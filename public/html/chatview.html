<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Chat Option - Eyecatcher</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <style>
        .wave {
            display: inline-block;
            animation: wave 1.5s infinite;
            transform-origin: 70% 70%;
        }

        @keyframes wave {
            0% {
                transform: rotate(0deg);
            }

            10% {
                transform: rotate(14deg);
            }

            20% {
                transform: rotate(-8deg);
            }

            30% {
                transform: rotate(14deg);
            }

            40% {
                transform: rotate(-4deg);
            }

            50% {
                transform: rotate(10deg);
            }

            60% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(0deg);
            }
        }

        /* Bubble preview styles */
        .bubble-preview {
            padding: 12px;
            border-radius: 50px;
            border: 2px solid #ccc;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
            cursor: pointer;
        }

        .bubble-preview i {
            font-size: 20px;
        }
    </style>
</head>

<body class="min-h-screen">

    <div class="w-fit mx-auto p-6 rounded-md space-y-8">

        <!-- Save Button (Top Left) -->
        <div class="absolute top-6 right-6">
            <button id="saveBtn" class="bg-orange-500 text-white p-2 rounded-sm hover:bg-orange-600">
                <i class="fas fa-save"></i> Save
            </button>
        </div>

        <!-- Radio Options -->
        <form>
            <fieldset class="mb-4">
                <legend class="text-lg font-semibold mb-6 text-center">Choose a chat option:</legend>

                <div class="flex flex-wrap justify-start gap-14">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="chat_option" value="eyecatcher" class="accent-blue-500"
                            id="eyecatcherRadio">
                        <span>Eyecatcher</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="chat_option" value="bubble" class="accent-blue-500">
                        <span>Bubble</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="chat_option" value="chat_bar" class="accent-blue-500">
                        <span>Chat Bar</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="chat_option" value="chat_widget" class="accent-blue-500">
                        <span>Chat Widget Open</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="chat_option" value="chat_widget_cbse" class="accent-blue-500">
                        <span>Chat Widget Close</span>
                    </label>
                </div>
            </fieldset>
        </form>

        <!-- Eyecatcher and Bubble Customization Section -->
        <div class="p-6 flex w-full max-w-6xl gap-10">

            <!-- Left Side: Form Inputs -->
            <div class="flex-1 space-y-6 border-r pr-6">
                <h2 class="text-2xl font-bold mb-6 text-center">Customize Chat Options</h2>

                <!-- Eyecatcher Inputs -->
                <div id="eyecatcherInputs">
                    <div>
                        <label for="titleInput" class="block text-sm font-medium text-gray-700 mb-2">Welcome
                            Message:</label>
                        <input id="titleInput" type="text" placeholder="Hello"
                            class="w-100 px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    </div>

                    <div>
                        <label for="textInput" class="block text-sm font-medium text-gray-700 mb-2">Invitation
                            Text:</label>
                        <input id="textInput" type="text" placeholder="Click to chat"
                            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Eye catcher background
                            color:</label>
                        <div class="flex items-center border rounded-md overflow-hidden">
                            <input type="text" placeholder="#FFFFFF" class="w-full px-2 py-2 text-sm focus:outline-none"
                                id="bgColorInput" value="#007bff" />
                            <input type="color" class="w-12 h-12 cursor-pointer border-l" id="bgColorPicker"
                                value="#007bff" />
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Eye catcher text color:</label>
                        <div class="flex items-center border rounded-md overflow-hidden">
                            <input type="text" placeholder="#000000" class="w-full px-2 py-2 text-sm focus:outline-none"
                                id="textColorInput" value="#ffffff" />
                            <input type="color" class="w-12 h-12 cursor-pointer border-l" id="textColorPicker"
                                value="#ffffff" />
                        </div>
                    </div>
                </div>

                <!-- Bubble Inputs -->
                <div id="bubbleInputs" style="display: none;">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Bubble Background Color:</label>
                        <div class="flex items-center border rounded-md overflow-hidden">
                            <input type="text" placeholder="#007bff" class="w-full px-2 py-2 text-sm focus:outline-none"
                                id="bubbleBgColorText" value="#007bff" />
                            <input type="color" class="w-12 h-12 cursor-pointer border-l" id="bubbleBgColorInput"
                                value="#007bff" />
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Bubble Icon Color:</label>
                        <div class="flex items-center border rounded-md overflow-hidden">
                            <input type="text" placeholder="#ffffff" class="w-full px-2 py-2 text-sm focus:outline-none"
                                id="bubbleIconColorText" value="#ffffff" />
                            <input type="color" class="w-12 h-12 cursor-pointer border-l" id="bubbleIconColorInput"
                                value="#ffffff" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Side: Preview Box -->
            <div class="flex-1 flex flex-col items-center justify-center space-y-4">

                <!-- Eyecatcher Preview -->
                <div id="eyecatcherPreviewBox"
                    class="w-72 h-40 flex flex-col justify-center items-center rounded-lg shadow-md text-center transition-all duration-300"
                    style="background-color: #007bff; color: #ffffff;">
                    <h3 id="eyecatcherPreviewTitle" class="text-lg font-bold mb-2">Hello <span class="wave">ðŸ‘‹</span>
                    </h3>
                    <p id="eyecatcherPreviewText">Click to chat</p>
                </div>

                <!-- Bubble Preview -->
                <div id="bubblePreviewBox" class="bubble-preview" style="display: none; background-color: #007bff; color: #ffffff;">
                    <i id="bubbleIcon" class="fas fa-comment-alt" style="color: #ffffff;"></i>
                </div>

            </div>

        </div>

    </div>

    <!-- Script Section -->
    <script>
        // Input Elements
        const titleInput = document.getElementById("titleInput");
        const textInput = document.getElementById("textInput");
        const bgColorInput = document.getElementById("bgColorInput");
        const textColorInput = document.getElementById("textColorInput");
        const bgColorPicker = document.getElementById("bgColorPicker");
        const textColorPicker = document.getElementById("textColorPicker");

        // Bubble Inputs
        const bubbleBgColorInput = document.getElementById("bubbleBgColorInput");
        const bubbleBgColorText = document.getElementById("bubbleBgColorText");
        const bubbleIconColorInput = document.getElementById("bubbleIconColorInput");
        const bubbleIconColorText = document.getElementById("bubbleIconColorText");

        // Preview Elements
        const eyecatcherPreviewBox = document.getElementById("eyecatcherPreviewBox");
        const eyecatcherPreviewTitle = document.getElementById("eyecatcherPreviewTitle");
        const eyecatcherPreviewText = document.getElementById("eyecatcherPreviewText");

        const bubblePreviewBox = document.getElementById("bubblePreviewBox");
        const bubbleIcon = document.getElementById("bubbleIcon");

        // Update Eyecatcher Title in Real Time
        titleInput.addEventListener("input", () => {
            eyecatcherPreviewTitle.textContent = titleInput.value || "Hello";
        });

        // Update Eyecatcher Invitation Text in Real Time
        textInput.addEventListener("input", () => {
            eyecatcherPreviewText.textContent = textInput.value || "Click to chat";
        });

        // Update Eyecatcher Background Color
        bgColorInput.addEventListener("input", () => {
            eyecatcherPreviewBox.style.backgroundColor = bgColorInput.value;
            bgColorPicker.value = bgColorInput.value;
        });

        bgColorPicker.addEventListener("input", () => {
            eyecatcherPreviewBox.style.backgroundColor = bgColorPicker.value;
            bgColorInput.value = bgColorPicker.value;
        });

        // Update Eyecatcher Text Color
        textColorInput.addEventListener("input", () => {
            eyecatcherPreviewBox.style.color = textColorInput.value;
            textColorPicker.value = textColorInput.value;
        });

        textColorPicker.addEventListener("input", () => {
            eyecatcherPreviewBox.style.color = textColorPicker.value;
            textColorInput.value = textColorPicker.value;
        });

        // Update Bubble Background Color
        bubbleBgColorInput.addEventListener("input", () => {
            bubblePreviewBox.style.backgroundColor = bubbleBgColorInput.value;
            bubbleBgColorText.value = bubbleBgColorInput.value;
        });

        bubbleBgColorText.addEventListener("input", () => {
            bubblePreviewBox.style.backgroundColor = bubbleBgColorText.value;
            bubbleBgColorInput.value = bubbleBgColorText.value;
        });

        // Update Bubble Icon Color
        bubbleIconColorInput.addEventListener("input", () => {
            bubbleIcon.style.color = bubbleIconColorInput.value;
            bubbleIconColorText.value = bubbleIconColorInput.value;
        });

        bubbleIconColorText.addEventListener("input", () => {
            bubbleIcon.style.color = bubbleIconColorText.value;
            bubbleIconColorInput.value = bubbleIconColorText.value;
        });

        // Radio Button Functionality
        const radioButtons = document.querySelectorAll('input[name="chat_option"]');
        radioButtons.forEach(radio => {
            radio.addEventListener("change", (event) => {
                const selectedValue = event.target.value;

                // Show/Hide the appropriate inputs and previews
                if (selectedValue === "eyecatcher") {
                    document.getElementById('eyecatcherInputs').style.display = 'block';
                    document.getElementById('bubbleInputs').style.display = 'none';
                    eyecatcherPreviewBox.style.display = 'flex';
                    bubblePreviewBox.style.display = 'none';
                } else if (selectedValue === "bubble") {
                    document.getElementById('eyecatcherInputs').style.display = 'none';
                    document.getElementById('bubbleInputs').style.display = 'block';
                    eyecatcherPreviewBox.style.display = 'none';
                    bubblePreviewBox.style.display = 'flex';
                } else {
                    // For other options, hide both previews
                    eyecatcherPreviewBox.style.display = 'none';
                    bubblePreviewBox.style.display = 'none';
                }
            });
        });

        // Save functionality
        document.getElementById("saveBtn").addEventListener("click", () => {
            const selectedOption = document.querySelector('input[name="chat_option"]:checked').value;
            
            const settings = {
                selectedOption: selectedOption,
                eyecatcher: {
                    title: titleInput.value,
                    text: textInput.value,
                    bgColor: bgColorInput.value,
                    textColor: textColorInput.value
                },
                bubble: {
                    bgColor: bubbleBgColorText.value,
                    iconColor: bubbleIconColorText.value
                }
            };

            localStorage.setItem('chatSettings', JSON.stringify(settings));
            alert('Settings saved successfully!');
        });

        // Load saved preferences
        function loadSettings() {
            const savedSettings = localStorage.getItem('chatSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                
                // Set radio button
                document.querySelector(`input[name="chat_option"][value="${settings.selectedOption}"]`).checked = true;
                
                // Set eyecatcher values
                titleInput.value = settings.eyecatcher.title || "Hello";
                textInput.value = settings.eyecatcher.text || "Click to chat";
                bgColorInput.value = settings.eyecatcher.bgColor || "#007bff";
                textColorInput.value = settings.eyecatcher.textColor || "#ffffff";
                bgColorPicker.value = settings.eyecatcher.bgColor || "#007bff";
                textColorPicker.value = settings.eyecatcher.textColor || "#ffffff";
                
                // Set bubble values
                bubbleBgColorText.value = settings.bubble.bgColor || "#007bff";
                bubbleIconColorText.value = settings.bubble.iconColor || "#ffffff";
                bubbleBgColorInput.value = settings.bubble.bgColor || "#007bff";
                bubbleIconColorInput.value = settings.bubble.iconColor || "#ffffff";
                
                // Update previews
                eyecatcherPreviewTitle.textContent = settings.eyecatcher.title || "Hello";
                eyecatcherPreviewText.textContent = settings.eyecatcher.text || "Click to chat";
                eyecatcherPreviewBox.style.backgroundColor = settings.eyecatcher.bgColor || "#007bff";
                eyecatcherPreviewBox.style.color = settings.eyecatcher.textColor || "#ffffff";
                
                bubblePreviewBox.style.backgroundColor = settings.bubble.bgColor || "#007bff";
                bubbleIcon.style.color = settings.bubble.iconColor || "#ffffff";
                
                // Trigger change event to show correct preview
                document.querySelector(`input[name="chat_option"][value="${settings.selectedOption}"]`).dispatchEvent(new Event('change'));
            } else {
                // Set default radio selection if no saved settings
                document.getElementById('eyecatcherRadio').checked = true;
            }
        }

        // Load settings when page loads
        window.addEventListener('DOMContentLoaded', loadSettings);
    </script>
</body>

</html>