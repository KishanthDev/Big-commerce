<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Live Chat Button</title>
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    @keyframes slideUp {
      0% { transform: translateY(100%); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }

    @keyframes slideDown {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(100%); opacity: 0; }
    }

    @keyframes bounce {
      0%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-8px); }
    }

    .animate-slideUp { animation: slideUp 0.5s ease-out forwards; }
    .animate-slideDown { animation: slideDown 0.2s ease-in forwards; }

    .dot-loader span {
      animation: bounce 0.6s infinite ease-in-out;
    }

    .dot-loader span:nth-child(2) { animation-delay: 0.1s; }
    .dot-loader span:nth-child(3) { animation-delay: 0.2s; }

    .content-item {
      transition: background-color 0.3s ease-in-out;
    }

    .footer-box a.selected {
      color: black;
    }

    .footer-box a.selected svg {
      fill: black !important;
      stroke: none !important;
    }

    .footer-box a:hover svg {
      stroke: black;
      fill: #5f5f5f;
    }

    .footer-box svg {
      stroke: currentColor;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    #modalContent {
      height: 600px;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    #homeContent, #liveChatContent {
      display: none;
      flex-direction: column;
      overflow-y: auto;
      overflow-x: hidden;
      flex: 1;
    }

    #homeContent.active, #liveChatContent.active {
      display: flex;
    }

    #homeContent {
      padding-bottom: 8px;
    }

    #liveChatContent.active ~ .footer-box {
      display: none;
    }

    .chat-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      padding: 8px 0;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 8px;
      font-size: small;
    }

    .chat-message {
      margin-bottom: 8px;
      padding: 6px 10px;
      background-color: #f3f4f6;
      border-radius: 8px;
      max-width: 80%;
      word-wrap: break-word;
    }

    .chat-message .sender {
      font-weight: bold;
      margin-bottom: 4px;
    }

    .input-container {
      display: flex;
      align-items: center;
      padding: 8px;
      gap: 8px;
      border-top: 1px solid #d1d5db;
      background-color: #fff;
      box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.05);
    }

    .input-container input[type="text"] {
      flex: 1;
      padding: 6px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      outline: none;
    }

    .input-container .button-group {
      display: flex;
      gap: 6px;
    }

    .input-container button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
      color: #374151;
    }

    .input-container button:hover {
      color: #000;
    }

    .emoji-picker {
      position: absolute;
      bottom: 50px;
      right: 10px;
      background: #fff;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      padding: 8px;
      display: none;
      flex-wrap: wrap;
      gap: 4px;
      width: 140px;
    }

    .emoji-picker span {
      font-size: 22px;
      cursor: pointer;
    }

    .emoji-picker span:hover {
      background: #f3f4f6;
      border-radius: 4px;
    }

    .content-item {
      max-width: 100%;
      padding: 10px;
    }

    .content-item a {
      overflow-wrap: break-word;
      word-break: break-word;
      max-width: 100%;
    }

    .arrow-container {
      transition: transform 0.3s ease-in-out;
    }

    .content-item:hover .arrow-container {
      transform: translateX(5px);
      background-color: #000;
    }
  </style>
</head>
<body>
  <!-- Sample Page Content -->
  <div class="container" style="padding: 20px; max-width: 1200px; margin: 0 auto;">
    <h1>Welcome to Our Website</h1>
    <button onclick="alert('Button clicked!')">Click Me</button>
  </div>

  <!-- Chat Button -->
  <button type="button" aria-label="Open LiveChat chat widget" class="fixed bottom-5 right-5 bg-[#ff5101] border-none rounded-full w-16 h-16 flex items-center justify-center cursor-pointer shadow-lg z-50 hover:bg-white transition-colors duration-300 overflow-hidden chat-button">
    <div class="absolute transition-opacity duration-300 chat-icon">
      <svg viewBox="0 0 32 32" width="28" height="28" fill="none">
        <path fill="#FFFFFF" d="M12.63,26.46H8.83a6.61,6.61,0,0,1-6.65-6.07,89.05,89.05,0,0,1,0-11.2A6.5,6.5,0,0,1,8.23,3.25a121.62,121.62,0,0,1,15.51,0A6.51,6.51,0,0,1,29.8,9.19a77.53,77.53,0,0,1,0,11.2,6.61,6.61,0,0,1-6.66,6.07H19.48L12.63,31V26.46Z"/>
        <path fill="#FF5101" d="M19.57,21.68h3.67a2.08,2.08,0,0,0,2.11-1.81,89.86,89.86,0,0,0,0-10.38,1.9,1.9,0,0,0-1.84-1.74,113.15,113.15,0,0,0-15,0A1.9,1.9,0,0,0,6.71,9.49a74.92,74.92,0,0,0-.06,10.38,2,2,0,0,0,2.1,1.81h3.81V26.5Z"/>
      </svg>
    </div>
    <div class="flex gap-1 opacity-0 absolute items-end h-3.5 dot-loader hover:opacity-100 transition-opacity duration-300">
      <span class="block w-1.5 h-1.5 bg-[#ff5101] rounded-full"></span>
      <span class="block w-1.5 h-1.5 bg-[#ff5101] rounded-full"></span>
      <span class="block w-1.5 h-1.5 bg-[#ff5101] rounded-full"></span>
    </div>
  </button>

  <!-- Main Modal -->
  <div class="fixed bottom-5 right-5 z-50 hidden" id="chatModal" role="dialog" aria-labelledby="modalTitle liveChatTitle" aria-hidden="true">
    <div class="bg-gradient-to-b from-[#d3d3d3] to-[#e8e8e8] rounded-2xl w-[100%] max-w-[400px] p-5 shadow-xl sm:max-w-[370px]" id="modalContent">
      <!-- Home Content -->
      <div id="homeContent" class="active">
        <button class="absolute top-2.5 right-2.5 bg-transparent border-none text-gray-600 text-xl cursor-pointer close-button" aria-label="Close modal">√ó</button>
        <h2 id="modalTitle" class="text-4xl text-black mt-9 mb-5 font-bold sm:text-5xl">Chat with us!</h2>
        <div class="border border-gray-300 bg-gray-100 rounded-lg p-3 mb-3 flex items-start gap-4">
          <div class="relative bg-[#ff5101] rounded-full p-2">
            <svg viewBox="0 0 32 32" aria-hidden="true" class="w-6 h-6 fill-white">
              <path fill="#FFFFFF" d="M12.63,26.46H8.83a6.61,6.61,0,0,1-6.65-6.07,89.05,89.05,0,0,1,0-11.2A6.5,6.5,0,0,1,8.23,3.25a121.62,121.62,0,0,1,15.51,0A6.51,6.51,0,0,1,29.8,9.19a77.53,77.53,0,0,1,0,11.2,6.61,6.61,0,0,1-6.66,6.07H19.48L12.63,31V26.46Z" />
            </svg>
            <span class="absolute top-0 right-0 w-2 h-2 bg-green-500 rounded-full border-2 border-white"></span>
          </div>
          <div class="flex-1 mt-3">
            <div class="font-bold text-gray-800 mb-1">LiveChat Bot ¬∑ 07:41 PM</div>
            <p class="text-base text-gray-800 mb-3 sm:text-sm">Engage your customers effortlessly with our powerful LiveChat tools. Interested in...</p>
            <button type="button" class="chat-now-btn bg-black text-white w-full p-2 rounded-md text-lg font-bold flex items-center justify-center gap-1 hover:bg-gray-800 transition-colors duration-300 sm:text-sm sm:p-3.5">
              Chat now
              <svg viewBox="0 0 24 24" aria-hidden="true" class="w-5 h-5 fill-current">
                <path d="M4.3880707,3.17638951 L20.4789623,11.1029371 C20.9743965,11.3469933 21.1781786,11.9464687 20.9341223,12.4419029 C20.8367142,12.6396414 20.6767008,12.7996548 20.4789623,12.8970629 L4.3743554,20.8303668 C3.87892124,21.074423 3.27944584,20.870641 3.03538961,20.3752068 C2.90852242,20.1176664 2.89846393,19.8180217 3.00777474,19.5525533 L6.12545221,11.9794521 L6.12845221,11.9204521 L3.02294371,4.4577144 C2.81072167,3.94783182 3.05202321,3.36245036 3.56190579,3.15022831 C3.82818088,3.03939996 4.12934099,3.04893645 4.3880707,3.17638951 Z M5.892,6.146 L7.91045221,10.9964521 L11.0011069,11.0000006 C11.5533913,11.0006119 12.0006107,11.4488225 12,12.0011069 C11.9993881,12.5533913 11.5511775,13.0006107 10.9988931,13 L7.86945221,12.9964521 L5.865,17.866 L17.773,12 L5.892,6.146 Z" />
              </svg>
            </button>
          </div>
        </div>
        <div>
          <div class="border border-gray-300 bg-gray-100 rounded-lg p-2 mb-2 flex items-center justify-between hover:bg-[#e8e8e8] transition-colors duration-300 group content-item">
            <a href="#pricing" class="text-gray-800 no-underline text-sm flex items-center gap-2 flex-1 sm:text-sm">
              <span>üí∞</span>
              Pricing
            </a>
            <span class="w-6 h-6 bg-gray-500 border border-gray-300 rounded-full flex items-center justify-center arrow-container">
              <i class="fas fa-arrow-right text-white text-sm arrow"></i>
            </span>
          </div>
          <div class="border border-gray-300 bg-gray-100 rounded-lg p-2 mb-2 flex items-center justify-between hover:bg-[#e8e8e8] transition-colors duration-300 group content-item">
            <a href="#tour" class="text-gray-800 no-underline text-sm flex items-center gap-2 flex-1 sm:text-sm">
              <span>üëì</span>
              Take a tour
            </a>
            <span class="w-6 h-6 bg-gray-500 border border-gray-300 rounded-full flex items-center justify-center arrow-container">
              <i class="fas fa-arrow-right text-white text-sm arrow"></i>
            </span>
          </div>
          <div class="border border-gray-300 bg-gray-100 rounded-lg p-2 mb-2 flex items-center justify-between hover:bg-[#e8e8e8] transition-colors duration-300 group content-item">
            <a href="#hire" class="text-gray-800 no-underline text-sm flex items-center gap-2 flex-1 sm:text-sm">
              <span>ü§ñ</span>
              Hire AI-powered Chatbot
            </a>
            <span class="w-6 h-6 bg-gray-500 border border-gray-300 rounded-full flex items-center justify-center arrow-container">
              <i class="fas fa-arrow-right text-white text-sm arrow"></i>
            </span>
          </div>
        </div>
      </div>
      <!-- LiveChat Content -->
      <div id="liveChatContent">
        <div class="chat-header">
          <button class="bg-transparent border-none text-gray-600 text-xl cursor-pointer back-button" aria-label="Back to home section">
            <i class="fas fa-arrow-left"></i>
          </button>
          <h2 id="liveChatTitle" class="text-2xl text-black font-bold">LiveChat</h2>
          <button class="bg-transparent border-none text-gray-600 text-xl cursor-pointer close-button" aria-label="Close modal">√ó</button>
        </div>
        <div class="chat-messages" id="chatMessages">
          <div class="chat-message">
            <div class="sender">LiveChat Bot</div>
            <div class="timestamp">07:41 PM</div>
            <div>Engage your customers effortlessly with our powerful LiveChat tools. Interested in exploring more?</div>
          </div>
          <div class="chat-message">
            <div class="sender">LiveChat Bot</div>
            <div class="timestamp">07:41 PM</div>
            <div>I'm your AI assistant, and I'm ready to help. You can pick an option below or just type your question like you're chatting with a person. The more specific you are, the better I can help!</div>
          </div>
        </div>
        <div class="input-container">
          <input type="text" id="messageInput" placeholder="Type a message..." aria-label="Type a message" />
          <div class="button-group">
            <button class="emoji-button" aria-label="Open emoji picker">
              <i class="fas fa-smile"></i>
            </button>
            <button class="attachment-button" aria-label="Attach file">
              <i class="fas fa-paperclip"></i>
            </button>
            <button class="send-button" aria-label="Send message">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
          <input type="file" id="attachmentInput" style="display: none;" />
          <div class="emoji-picker" id="emojiPicker">
            <span data-emoji="üòä">üòä</span>
            <span data-emoji="üëç">üëç</span>
            <span data-emoji="üöÄ">üöÄ</span>
            <span data-emoji="‚ù§Ô∏è">‚ù§Ô∏è</span>
            <span data-emoji="üòÇ">üòÇ</span>
          </div>
        </div>
      </div>
      <!-- Footer -->
      <div class="border  border-gray-300 rounded-3xl shadow-2xl p-2.5 flex justify-between items-center bg-gray-100 footer-box">
        <a href="#home" class="text-gray-800 ml-7 no-underline text-sm flex flex-col items-center gap-1.5 py-2 px-3 w-20 text-center hover:text-gray-500 transition-colors duration-300 font-bold sm:text-xs sm:py-1.5 sm:px-2.5 sm:w-[70px] selected" id="homeButton">
          <svg viewBox="0 0 24 24" width="25" height="25" class="home-icon">
            <path d="M3 12l9-9 9 9v9a2 2 0 0 1-2 2h-4v-6h-6v6H5a2 2 0 0 1-2-2v-9z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
          Home
        </a>
        <a href="#livechat" class="text-gray-800 mr-7 no-underline text-sm flex flex-col items-center gap-1.5 py-2 px-3 w-20 text-center hover:text-gray-500 transition-colors duration-300 sm:text-xs sm:py-1.5 sm:px-2.5 sm:w-[70px]" id="liveChatButton">
          <svg viewBox="0 0 24 24" width="25" height="25" class="livechat-icon">
            <path d="M3.046875,12.9375 C1.46776039,9.98739221 2.28831494,6.32568237 4.9753792,4.33158492 C7.66244345,2.33748747 11.4048397,2.61298558 13.770927,4.97907295 C16.1370144,7.34516033 16.4125125,11.0875566 14.4184151,13.7746208 C12.4243176,16.4616851 8.76260779,17.2822396 5.8125,15.703125 L3.21,16.468125 C2.94676941,16.5454268 2.66233667,16.4728351 2.46834451,16.278843 C2.27435236,16.0848508 2.2017607,15.8004181 2.2790625,15.5371875 L3.046875,12.9375 Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M15.369375,7.5103125 C17.6739183,7.63560127 19.7547031,8.92965262 20.8861548,10.9412277 C22.0176064,12.9528028 22.0428658,15.4030266 20.953125,17.4375 L21.718125,20.04 C21.7954268,20.3032306 21.7228351,20.5876633 21.528843,20.7816555 C21.3348508,20.9756476 21.0504181,21.0482393 20.7871875,20.9709375 L18.1875,20.203125 C16.4496517,21.13252 14.3925777,21.256597 12.5556181,20.5428245 C10.7186584,19.829052 9.28503442,18.3486227 8.630625,16.4896875" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
          LiveChat
        </a>
      </div>
    </div>
  </div>

  <script>
    const chatButton = document.querySelector('.chat-button');
    const modal = document.getElementById('chatModal');
    const modalContent = document.getElementById('modalContent');
    const closeButtons = document.querySelectorAll('.close-button');
    const homeButton = document.getElementById('homeButton');
    const liveChatButton = document.getElementById('liveChatButton');
    const homeContent = document.getElementById('homeContent');
    const liveChatContent = document.getElementById('liveChatContent');
    const backButton = document.querySelector('.back-button');
    const messageInput = document.getElementById('messageInput');
    const sendButton = document.querySelector('.send-button');
    const chatMessages = document.getElementById('chatMessages');
    const emojiButton = document.querySelector('.emoji-button');
    const emojiPicker = document.getElementById('emojiPicker');
    const attachmentButton = document.querySelector('.attachment-button');
    const attachmentInput = document.getElementById('attachmentInput');

    let chatHistory = [];

    const predefinedMessages = [
      {
        sender: 'LiveChat Bot',
        timestamp: '07:41 PM',
        text: 'Engage your customers effortlessly with our powerful LiveChat tools. Interested in exploring more?'
      },
      {
        sender: 'LiveChat Bot',
        timestamp: '07:41 PM',
        text: 'I\'m your AI assistant, and I\'m ready to help. You can pick an option below or just type your question like you\'re chatting with a person. The more specific you are, the better I can help!'
      }
    ];

    // Open modal
    chatButton.addEventListener('click', () => {
      modal.style.display = 'block';
      modal.setAttribute('aria-hidden', 'false');
      modalContent.classList.remove('animate-slideDown');
      modalContent.classList.add('animate-slideUp');
      homeContent.classList.add('active');
      liveChatContent.classList.remove('active');
      homeButton.classList.add('selected');
      liveChatButton.classList.remove('selected');
      modalContent.focus();
    });

    // Close modal
    function closeModal() {
      modalContent.classList.remove('animate-slideUp');
      modalContent.classList.add('animate-slideDown');
      modalContent.addEventListener('animationend', () => {
        if (modalContent.classList.contains('animate-slideDown')) {
          modal.style.display = 'none';
          modal.setAttribute('aria-hidden', 'true');
          chatButton.focus();
        }
      }, { once: true });
    }

    closeButtons.forEach(button => {
      button.addEventListener('click', closeModal);
    });

    // Remove backdrop click-to-close since backdrop is removed
    // Optionally, keep this for other interactions if needed
    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape' && modal.style.display === 'block') {
        closeModal();
      }
    });

    // Render messages
    function renderMessages() {
      chatMessages.innerHTML = '';
      [...predefinedMessages, ...chatHistory].forEach(msg => {
        const messageDiv = document.createElement('div');
        messageDiv.className = 'chat-message';
        messageDiv.innerHTML = `
          <div class="sender">${msg.sender}</div>
          <div class="timestamp">${msg.timestamp}</div>
          <div>${msg.text}</div>
        `;
        chatMessages.appendChild(messageDiv);
      });
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Switch to LiveChat
    function showLiveChatContent() {
      homeContent.classList.remove('active');
      liveChatContent.classList.add('active');
      liveChatButton.classList.add('selected');
      homeButton.classList.remove('selected');
      renderMessages();
      messageInput.focus();
    }

    liveChatButton.addEventListener('click', showLiveChatContent);
    document.querySelector('.chat-now-btn').addEventListener('click', showLiveChatContent);

    // Switch to Home
    function showHomeContent() {
      liveChatContent.classList.remove('active');
      homeContent.classList.add('active');
      homeButton.classList.add('selected');
      liveChatButton.classList.remove('selected');
      modalContent.focus();
    }

    homeButton.addEventListener('click', showHomeContent);
    backButton.addEventListener('click', showHomeContent);

    // Send message
    function sendMessage() {
      const messageText = messageInput.value.trim();
      if (messageText) {
        const newMessage = {
          sender: 'You',
          timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
          text: messageText
        };
        chatHistory.push(newMessage);
        messageInput.value = '';
        renderMessages();
      }
    }

    sendButton.addEventListener('click', sendMessage);

    messageInput.addEventListener('keypress', (event) => {
      if (event.key === 'Enter') {
        sendMessage();
      }
    });

    // Emoji picker
    emojiButton.addEventListener('click', () => {
      emojiPicker.style.display = emojiPicker.style.display === 'flex' ? 'none' : 'flex';
    });

    emojiPicker.addEventListener('click', (event) => {
      if (event.target.dataset.emoji) {
        messageInput.value += event.target.dataset.emoji;
        emojiPicker.style.display = 'none';
        messageInput.focus();
      }
    });

    document.addEventListener('click', (event) => {
      if (!emojiButton.contains(event.target) && !emojiPicker.contains(event.target)) {
        emojiPicker.style.display = 'none';
      }
    });

    // Attachment button
    attachmentButton.addEventListener('click', () => {
      attachmentInput.click();
    });
  </script>
</body>
</html>